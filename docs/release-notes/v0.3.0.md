# Release Notes: v0.3.0 (Planned)

**Target Release:** Q1 2025
**Status:** Planning

---

## Overview

The v0.3.0 release will focus on expanding service coverage, adding real-time alerting, and improving multi-account/multi-region support.

---

## Planned Features

### New AWS Services

#### Compute & Orchestration
- **Lambda**: Function configuration, triggers, environment variables
- **ECS**: Task definitions, services, cluster configuration
- **EKS**: Cluster configuration, node groups, add-ons
- **Step Functions**: State machine definitions, execution configuration

#### Networking & Security
- **Transit Gateway**: Full attachment and routing support
- **WAF**: Web ACL rules, rate limiting, IP sets
- **AWS Certificate Manager**: Certificate lifecycle, validation

#### Developer Tools
- **CodePipeline**: Pipeline stages, actions, triggers
- **CodeBuild**: Build project configuration, environment
- **CodeDeploy**: Deployment groups, configurations

### Enhanced Existing Services

#### API Gateway
- **WebSocket API**: Full connection, route, integration coverage
- **HTTP API v2**: Enhanced stage and authorizer tracking
- **API Gateway v2**: Complete parity with REST API

#### RDS
- **RDS Proxy**: Connection pooling, IAM authentication
- **Performance Insights**: Configuration tracking
- **Aurora Global Database**: Cross-region replication drift

#### ECR
- **ECR Public**: Public repository support
- **Pull-through cache**: Configuration drift detection

---

## Real-time Alerting

### Integrations
- **Slack**: Direct channel notifications
- **PagerDuty**: Incident creation for critical drifts
- **Microsoft Teams**: Channel webhooks
- **Email**: SMTP-based notifications
- **Webhook**: Generic HTTP POST for custom integrations

### Alert Configuration
```yaml
alerts:
  channels:
    - type: slack
      webhook_url: https://hooks.slack.com/...
      severity_filter: [critical, error]
    - type: pagerduty
      integration_key: xxx
      severity_filter: [critical]
  rules:
    - service: iam
      event: UpdateAssumeRolePolicy
      priority: critical
      notify: [slack, pagerduty]
```

---

## Multi-Account & Multi-Region

### Centralized Monitoring
- **Cross-account CloudTrail aggregation**
- **Multi-region Terraform state tracking**
- **Unified Grafana dashboard** with account/region filters

### Organization-wide Deployment
```yaml
accounts:
  - id: "123456789012"
    name: "production"
    regions: [us-east-1, eu-west-1]
  - id: "234567890123"
    name: "staging"
    regions: [us-east-1]
```

---

## Performance Improvements

### State Comparison Optimization
- **Incremental state diffing** (only changed resources)
- **Parallel processing** for large Terraform states (1000+ resources)
- **Caching layer** for frequently accessed resources

### CloudTrail Processing
- **Event batching** for high-volume accounts
- **Selective event filtering** at ingestion time
- **Compressed event storage** for long-term retention

---

## Developer Experience

### CLI Enhancements
```bash
# Test drift detection locally
tfdrift test --state=terraform.tfstate --events=cloudtrail.json

# Generate service coverage report
tfdrift coverage --service=all

# Export drift history
tfdrift export --format=csv --days=30
```

### Terraform Provider
```hcl
resource "tfdrift_monitor" "api_gateway" {
  service = "apigateway"
  resource_id = aws_api_gateway_rest_api.main.id
  alert_on = ["authorizer_changes", "stage_modifications"]
}
```

---

## Breaking Changes (Tentative)

⚠️ **Configuration File Format**

The configuration file will move from YAML to TOML for better structure:

```toml
[services.ec2]
enabled = true
events = ["ModifyInstanceAttribute", "TerminateInstances"]

[services.iam]
enabled = true
priority = "critical"
```

Migration tool will be provided.

---

## Known Limitations (To Be Addressed)

Items carried over from v0.2.0-beta that will be resolved:
- ✅ WebSocket API Gateway (full support planned)
- ✅ Transit Gateway (enhanced support)
- ✅ Aurora Serverless v2 Auto-pause tracking
- ✅ EC2 Fleet drift detection

---

## Community Feedback

We're gathering feedback on:
1. Which AWS services should be prioritized?
2. Which alerting integrations are most important?
3. Multi-account setup pain points

**Submit feedback:** https://github.com/higakikeita/tfdrift-falco/discussions

---

## Timeline (Tentative)

- **December 2024**: Design finalization, community feedback
- **January 2025**: Core development (Lambda, ECS, EKS)
- **February 2025**: Alerting integrations, multi-account support
- **March 2025**: Beta testing, documentation
- **April 2025**: v0.3.0 GA release

---

## How to Contribute

Interested in contributing to v0.3.0? We welcome:
- AWS service coverage PRs (Lambda, ECS, EKS)
- Alerting integration implementations
- Performance optimizations
- Documentation improvements

See [CONTRIBUTING.md](../../CONTRIBUTING.md) for details.

---

## Resources

- [GitHub Milestones](https://github.com/higakikeita/tfdrift-falco/milestones)
- [Project Board](https://github.com/higakikeita/tfdrift-falco/projects)
- [Discussions](https://github.com/higakikeita/tfdrift-falco/discussions)
